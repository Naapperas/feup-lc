\hypertarget{video__gr_8c}{}\doxysection{src/devices/video/video\+\_\+gr.c File Reference}
\label{video__gr_8c}\index{src/devices/video/video\_gr.c@{src/devices/video/video\_gr.c}}
{\ttfamily \#include $<$lcom/lcf.\+h$>$}\newline
{\ttfamily \#include $<$lcom/video\+\_\+gr.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../../utils/color.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vbe.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}video\+\_\+gr.\+h\char`\"{}}\newline
Include dependency graph for video\+\_\+gr.\+c\+:
% FIG 0
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{video__gr_8c_aabf0aae1360311fc3ff53c6b41b4c988}{COLOR\+\_\+\+SIZE\+\_\+\+MASK}}(x)~(BIT(x) -\/ 1)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$() \mbox{\hyperlink{group__video__gr_gacb7c3d2ca42ef29ee0f3e7523ebb2d14}{vg\+\_\+get\+\_\+back\+\_\+buffer}} ()
\begin{DoxyCompactList}\small\item\em Returns the back buffer. \end{DoxyCompactList}\item 
void() \mbox{\hyperlink{video__gr_8c_aa3cd469be57dcc519fa45f8ddeb5986d}{\+\_\+get\+\_\+mode\+\_\+info}} (in\+\_\+port\+\_\+t mode)
\item 
void() \mbox{\hyperlink{video__gr_8c_adfd6e0008157e0fa7bca8566f43b4181}{\+\_\+map\+\_\+memory}} ()
\item 
void $\ast$() \mbox{\hyperlink{video__gr_8c_ab8d77382ef132ce0b16c8196f20a3024}{vg\+\_\+init}} (in\+\_\+port\+\_\+t graphics\+\_\+mode)
\item 
int() \mbox{\hyperlink{video__gr_8c_a6c72770d3ce9eea58bc4c0ac40056b33}{vg\+\_\+draw\+\_\+pixel\+\_\+index}} (uint32\+\_\+t i, uint32\+\_\+t color)
\item 
int() \mbox{\hyperlink{group__video__gr_ga08c498ffeb0a3962e3b7711b57397741}{vg\+\_\+draw\+\_\+pixel}} (uint16\+\_\+t x, uint16\+\_\+t y, uint32\+\_\+t color)
\begin{DoxyCompactList}\small\item\em Draws a pixel on a given position. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{video__gr_8c_a5e5b25bd525250f61f40b9e9f212d5e6}{vg\+\_\+draw\+\_\+hline}} (uint16\+\_\+t x, uint16\+\_\+t y, uint16\+\_\+t len, uint32\+\_\+t color)
\item 
int() \mbox{\hyperlink{video__gr_8c_a99d2da2559e11200c6b40c469e9977ec}{vg\+\_\+draw\+\_\+rectangle}} (uint16\+\_\+t x, uint16\+\_\+t y, uint16\+\_\+t width, uint16\+\_\+t height, uint32\+\_\+t color)
\item 
int() \mbox{\hyperlink{group__video__gr_ga437c7acd65b322492a34429afea7fa94}{vg\+\_\+draw\+\_\+circle}} (uint16\+\_\+t x, uint16\+\_\+t y, uint16\+\_\+t radius, uint32\+\_\+t color)
\begin{DoxyCompactList}\small\item\em Draws a circle on a given position. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{video__gr_8c_a81132604c5b9c517b266a9c20cba3763}{\+\_\+vg\+\_\+draw\+\_\+line\+\_\+low}} (uint16\+\_\+t from\+\_\+x, uint16\+\_\+t from\+\_\+y, uint16\+\_\+t to\+\_\+x, uint16\+\_\+t to\+\_\+y, int16\+\_\+t dx, int16\+\_\+t dy, int color)
\item 
int() \mbox{\hyperlink{video__gr_8c_a9ad89c479170f8c6f615097dc48c5947}{\+\_\+vg\+\_\+draw\+\_\+line\+\_\+high}} (uint16\+\_\+t from\+\_\+x, uint16\+\_\+t from\+\_\+y, uint16\+\_\+t to\+\_\+x, int16\+\_\+t to\+\_\+y, int16\+\_\+t dx, int16\+\_\+t dy, int color)
\item 
int() \mbox{\hyperlink{group__video__gr_ga6c2fe3a68fb18bca54d7d8b06efe01c0}{vg\+\_\+draw\+\_\+line}} (uint16\+\_\+t from\+\_\+x, uint16\+\_\+t from\+\_\+y, uint16\+\_\+t to\+\_\+x, uint16\+\_\+t to\+\_\+y, int color)
\begin{DoxyCompactList}\small\item\em Draws a line on a given position. \end{DoxyCompactList}\item 
xpm\+\_\+image\+\_\+t() \mbox{\hyperlink{group__video__gr_ga96de03c74c888257683f5f4beec5791d}{vg\+\_\+load\+\_\+xpm}} (const xpm\+\_\+map\+\_\+t map)
\begin{DoxyCompactList}\small\item\em Loads an xpm map and returns an xpm image containing relevant information. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{group__video__gr_gae3ef37a6eb8d4e6407903ee08fefb3c0}{vg\+\_\+draw\+\_\+xpm}} (const xpm\+\_\+image\+\_\+t xpm\+\_\+info, uint16\+\_\+t x, uint16\+\_\+t y)
\begin{DoxyCompactList}\small\item\em Draws an xpm image on a given position. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__vbe_ga8ae818bfffe265cbf70ff64273234b26}{get\+RGB}} (uint32\+\_\+t color, uint8\+\_\+t $\ast$r, uint8\+\_\+t $\ast$g, uint8\+\_\+t $\ast$b)
\begin{DoxyCompactList}\small\item\em Separates a color into their red, green and blue components. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{group__vbe_ga636b97374e16752de60def2b1d4853a3}{make\+RGB}} (uint8\+\_\+t r, uint8\+\_\+t g, uint8\+\_\+t b)
\begin{DoxyCompactList}\small\item\em Given red, green and blue components, return the result color. \end{DoxyCompactList}\item 
void() \mbox{\hyperlink{group__video__gr_ga3498fd300d0c64ba3ba0503c62cb9af5}{clear\+\_\+screen}} (uint8\+\_\+t color)
\begin{DoxyCompactList}\small\item\em Fills the screen with a given color. \end{DoxyCompactList}\item 
void() \mbox{\hyperlink{group__video__gr_gaa7ee55b2d2d8553889a583f4a1c4787f}{flip}} ()
\begin{DoxyCompactList}\small\item\em Switches the back buffer with the front buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
vbe\+\_\+mode\+\_\+info\+\_\+t \mbox{\hyperlink{video__gr_8c_aba0c6fe9aaf017ddb07fa4806d5c0222}{vg\+\_\+mode\+\_\+info}}
\begin{DoxyCompactList}\small\item\em current graphics mode information \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{video__gr_8c_a9d5c0801a0e0eee75de083914c1465b3}{front\+\_\+buffer}}
\begin{DoxyCompactList}\small\item\em the front buffer which is directly mapped to VRAM \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{video__gr_8c_a41970e546d255b886daed7c85fb74695}{back\+\_\+buffer}}
\begin{DoxyCompactList}\small\item\em the back buffer which is mapped in memory and replaces the front buffer in every render \end{DoxyCompactList}\item 
int \mbox{\hyperlink{video__gr_8c_ad1fad3c6fec2bf6f7d7933e68b4b0de5}{bytes\+\_\+per\+\_\+pixel}} = 0
\begin{DoxyCompactList}\small\item\em number of bytes per pixel \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{video__gr_8c_a5526f40b4ddcf23b599388283b318a13}{indexed}} = false
\begin{DoxyCompactList}\small\item\em weather the current graphics mode is indexed or not \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{video__gr_8c_aabf0aae1360311fc3ff53c6b41b4c988}\label{video__gr_8c_aabf0aae1360311fc3ff53c6b41b4c988}} 
\index{video\_gr.c@{video\_gr.c}!COLOR\_SIZE\_MASK@{COLOR\_SIZE\_MASK}}
\index{COLOR\_SIZE\_MASK@{COLOR\_SIZE\_MASK}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{COLOR\_SIZE\_MASK}{COLOR\_SIZE\_MASK}}
{\footnotesize\ttfamily \#define COLOR\+\_\+\+SIZE\+\_\+\+MASK(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~(BIT(x) -\/ 1)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{video__gr_8c_aa3cd469be57dcc519fa45f8ddeb5986d}\label{video__gr_8c_aa3cd469be57dcc519fa45f8ddeb5986d}} 
\index{video\_gr.c@{video\_gr.c}!\_get\_mode\_info@{\_get\_mode\_info}}
\index{\_get\_mode\_info@{\_get\_mode\_info}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{\_get\_mode\_info()}{\_get\_mode\_info()}}
{\footnotesize\ttfamily void() \+\_\+get\+\_\+mode\+\_\+info (\begin{DoxyParamCaption}\item[{in\+\_\+port\+\_\+t}]{mode }\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
% FIG 1
\mbox{\Hypertarget{video__gr_8c_adfd6e0008157e0fa7bca8566f43b4181}\label{video__gr_8c_adfd6e0008157e0fa7bca8566f43b4181}} 
\index{video\_gr.c@{video\_gr.c}!\_map\_memory@{\_map\_memory}}
\index{\_map\_memory@{\_map\_memory}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{\_map\_memory()}{\_map\_memory()}}
{\footnotesize\ttfamily void() \+\_\+map\+\_\+memory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{video__gr_8c_a9ad89c479170f8c6f615097dc48c5947}\label{video__gr_8c_a9ad89c479170f8c6f615097dc48c5947}} 
\index{video\_gr.c@{video\_gr.c}!\_vg\_draw\_line\_high@{\_vg\_draw\_line\_high}}
\index{\_vg\_draw\_line\_high@{\_vg\_draw\_line\_high}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{\_vg\_draw\_line\_high()}{\_vg\_draw\_line\_high()}}
{\footnotesize\ttfamily int() \+\_\+vg\+\_\+draw\+\_\+line\+\_\+high (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{from\+\_\+x,  }\item[{uint16\+\_\+t}]{from\+\_\+y,  }\item[{uint16\+\_\+t}]{to\+\_\+x,  }\item[{int16\+\_\+t}]{to\+\_\+y,  }\item[{int16\+\_\+t}]{dx,  }\item[{int16\+\_\+t}]{dy,  }\item[{int}]{color }\end{DoxyParamCaption})}

Here is the call graph for this function\+:
% FIG 3
Here is the caller graph for this function\+:
% FIG 4
\mbox{\Hypertarget{video__gr_8c_a81132604c5b9c517b266a9c20cba3763}\label{video__gr_8c_a81132604c5b9c517b266a9c20cba3763}} 
\index{video\_gr.c@{video\_gr.c}!\_vg\_draw\_line\_low@{\_vg\_draw\_line\_low}}
\index{\_vg\_draw\_line\_low@{\_vg\_draw\_line\_low}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{\_vg\_draw\_line\_low()}{\_vg\_draw\_line\_low()}}
{\footnotesize\ttfamily int() \+\_\+vg\+\_\+draw\+\_\+line\+\_\+low (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{from\+\_\+x,  }\item[{uint16\+\_\+t}]{from\+\_\+y,  }\item[{uint16\+\_\+t}]{to\+\_\+x,  }\item[{uint16\+\_\+t}]{to\+\_\+y,  }\item[{int16\+\_\+t}]{dx,  }\item[{int16\+\_\+t}]{dy,  }\item[{int}]{color }\end{DoxyParamCaption})}

Here is the call graph for this function\+:
% FIG 5
Here is the caller graph for this function\+:
% FIG 6
\mbox{\Hypertarget{video__gr_8c_a5e5b25bd525250f61f40b9e9f212d5e6}\label{video__gr_8c_a5e5b25bd525250f61f40b9e9f212d5e6}} 
\index{video\_gr.c@{video\_gr.c}!vg\_draw\_hline@{vg\_draw\_hline}}
\index{vg\_draw\_hline@{vg\_draw\_hline}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{vg\_draw\_hline()}{vg\_draw\_hline()}}
{\footnotesize\ttfamily int() vg\+\_\+draw\+\_\+hline (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{x,  }\item[{uint16\+\_\+t}]{y,  }\item[{uint16\+\_\+t}]{len,  }\item[{uint32\+\_\+t}]{color }\end{DoxyParamCaption})}

\mbox{\Hypertarget{video__gr_8c_a6c72770d3ce9eea58bc4c0ac40056b33}\label{video__gr_8c_a6c72770d3ce9eea58bc4c0ac40056b33}} 
\index{video\_gr.c@{video\_gr.c}!vg\_draw\_pixel\_index@{vg\_draw\_pixel\_index}}
\index{vg\_draw\_pixel\_index@{vg\_draw\_pixel\_index}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{vg\_draw\_pixel\_index()}{vg\_draw\_pixel\_index()}}
{\footnotesize\ttfamily int() vg\+\_\+draw\+\_\+pixel\+\_\+index (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{i,  }\item[{uint32\+\_\+t}]{color }\end{DoxyParamCaption})}

\mbox{\Hypertarget{video__gr_8c_a99d2da2559e11200c6b40c469e9977ec}\label{video__gr_8c_a99d2da2559e11200c6b40c469e9977ec}} 
\index{video\_gr.c@{video\_gr.c}!vg\_draw\_rectangle@{vg\_draw\_rectangle}}
\index{vg\_draw\_rectangle@{vg\_draw\_rectangle}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{vg\_draw\_rectangle()}{vg\_draw\_rectangle()}}
{\footnotesize\ttfamily int() vg\+\_\+draw\+\_\+rectangle (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{x,  }\item[{uint16\+\_\+t}]{y,  }\item[{uint16\+\_\+t}]{width,  }\item[{uint16\+\_\+t}]{height,  }\item[{uint32\+\_\+t}]{color }\end{DoxyParamCaption})}

\mbox{\Hypertarget{video__gr_8c_ab8d77382ef132ce0b16c8196f20a3024}\label{video__gr_8c_ab8d77382ef132ce0b16c8196f20a3024}} 
\index{video\_gr.c@{video\_gr.c}!vg\_init@{vg\_init}}
\index{vg\_init@{vg\_init}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{vg\_init()}{vg\_init()}}
{\footnotesize\ttfamily void $\ast$() vg\+\_\+init (\begin{DoxyParamCaption}\item[{in\+\_\+port\+\_\+t}]{graphics\+\_\+mode }\end{DoxyParamCaption})}

Here is the call graph for this function\+:
% FIG 7
Here is the caller graph for this function\+:
% FIG 8


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{video__gr_8c_a41970e546d255b886daed7c85fb74695}\label{video__gr_8c_a41970e546d255b886daed7c85fb74695}} 
\index{video\_gr.c@{video\_gr.c}!back\_buffer@{back\_buffer}}
\index{back\_buffer@{back\_buffer}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{back\_buffer}{back\_buffer}}
{\footnotesize\ttfamily void$\ast$ back\+\_\+buffer}



the back buffer which is mapped in memory and replaces the front buffer in every render 

\mbox{\Hypertarget{video__gr_8c_ad1fad3c6fec2bf6f7d7933e68b4b0de5}\label{video__gr_8c_ad1fad3c6fec2bf6f7d7933e68b4b0de5}} 
\index{video\_gr.c@{video\_gr.c}!bytes\_per\_pixel@{bytes\_per\_pixel}}
\index{bytes\_per\_pixel@{bytes\_per\_pixel}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{bytes\_per\_pixel}{bytes\_per\_pixel}}
{\footnotesize\ttfamily int bytes\+\_\+per\+\_\+pixel = 0}



number of bytes per pixel 

\mbox{\Hypertarget{video__gr_8c_a9d5c0801a0e0eee75de083914c1465b3}\label{video__gr_8c_a9d5c0801a0e0eee75de083914c1465b3}} 
\index{video\_gr.c@{video\_gr.c}!front\_buffer@{front\_buffer}}
\index{front\_buffer@{front\_buffer}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{front\_buffer}{front\_buffer}}
{\footnotesize\ttfamily void$\ast$ front\+\_\+buffer}



the front buffer which is directly mapped to VRAM 

\mbox{\Hypertarget{video__gr_8c_a5526f40b4ddcf23b599388283b318a13}\label{video__gr_8c_a5526f40b4ddcf23b599388283b318a13}} 
\index{video\_gr.c@{video\_gr.c}!indexed@{indexed}}
\index{indexed@{indexed}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{indexed}{indexed}}
{\footnotesize\ttfamily bool indexed = false}



weather the current graphics mode is indexed or not 

\mbox{\Hypertarget{video__gr_8c_aba0c6fe9aaf017ddb07fa4806d5c0222}\label{video__gr_8c_aba0c6fe9aaf017ddb07fa4806d5c0222}} 
\index{video\_gr.c@{video\_gr.c}!vg\_mode\_info@{vg\_mode\_info}}
\index{vg\_mode\_info@{vg\_mode\_info}!video\_gr.c@{video\_gr.c}}
\doxysubsubsection{\texorpdfstring{vg\_mode\_info}{vg\_mode\_info}}
{\footnotesize\ttfamily vbe\+\_\+mode\+\_\+info\+\_\+t vg\+\_\+mode\+\_\+info}



current graphics mode information 

